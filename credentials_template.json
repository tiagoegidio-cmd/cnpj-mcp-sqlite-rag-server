{
  "_INSTRUCOES": {
    "descricao": "Template de credenciais para Google Drive API",
    "como_obter": "1. Acesse https://console.cloud.google.com 2. Crie projeto ou use existente 3. Ative Google Drive API 4. Crie Service Account 5. Baixe JSON das credenciais 6. Substitua os valores abaixo",
    "permissoes_necessarias": [
      "Google Drive API - Leitura",
      "Acesso à pasta 'BASE DE DADOS'",
      "Compartilhar pasta com service account email"
    ],
    "estrutura_drive_necessaria": "BASE DE DADOS/BASE B2B/cnpj.db (ou cnpj.csv)"
  },
  
  "google_service_account": {
    "type": "service_account",
    "project_id": "SEU_PROJETO_ID_AQUI",
    "private_key_id": "chave_privada_id_aqui",
    "private_key": "-----BEGIN PRIVATE KEY-----\nCOLE_SUA_CHAVE_PRIVADA_COMPLETA_AQUI\n-----END PRIVATE KEY-----\n",
    "client_email": "service-account-name@seu-projeto.iam.gserviceaccount.com",
    "client_id": "123456789012345678901",
    "auth_uri": "https://accounts.google.com/o/oauth2/auth",
    "token_uri": "https://oauth2.googleapis.com/token",
    "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
    "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/service-account-name%40seu-projeto.iam.gserviceaccount.com",
    "universe_domain": "googleapis.com"
  },
  
  "drive_config": {
    "folder_structure": {
      "root_folder": "BASE DE DADOS",
      "sub_folder": "BASE B2B",
      "primary_file": "cnpj.db",
      "backup_files": ["cnpj.csv", "empresas.parquet"]
    },
    "access_settings": {
      "read_only": true,
      "cache_duration_minutes": 30,
      "auto_refresh": true,
      "max_file_size_mb": 100
    }
  },
  
  "oauth_alternative": {
    "_nota": "Alternativa usando OAuth2 em vez de Service Account",
    "client_id": "seu_client_id.apps.googleusercontent.com",
    "client_secret": "seu_client_secret",
    "refresh_token": "seu_refresh_token_aqui",
    "type": "authorized_user"
  },
  
  "quick_setup_steps": [
    {
      "passo": 1,
      "titulo": "Criar Projeto Google Cloud",
      "detalhes": "Acesse console.cloud.google.com e crie um novo projeto ou use existente"
    },
    {
      "passo": 2,
      "titulo": "Ativar Google Drive API",
      "detalhes": "No console, vá em 'APIs & Services' > 'Library' e ative 'Google Drive API'"
    },
    {
      "passo": 3,
      "titulo": "Criar Service Account",
      "detalhes": "Em 'APIs & Services' > 'Credentials', crie um Service Account"
    },
    {
      "passo": 4,
      "titulo": "Baixar Credenciais JSON",
      "detalhes": "Baixe o arquivo JSON das credenciais e cole o conteúdo aqui"
    },
    {
      "passo": 5,
      "titulo": "Compartilhar Pasta Drive",
      "detalhes": "Compartilhe a pasta 'BASE DE DADOS' com o email do service account"
    },
    {
      "passo": 6,
      "titulo": "Estruturar Arquivos",
      "detalhes": "Organize arquivos na estrutura: BASE DE DADOS/BASE B2B/cnpj.db"
    }
  ],
  
  "security_notes": {
    "importante": [
      "NUNCA commite este arquivo com credenciais reais no GitHub",
      "Use variáveis de ambiente em produção",
      "Service account deve ter apenas permissões mínimas necessárias",
      "Monitore uso da API para detectar acessos não autorizados"
    ],
    "boas_praticas": [
      "Renomeie este arquivo para 'credentials.json' após preencher",
      "Adicione 'credentials.json' no .gitignore",
      "Use rotação regular das chaves",
      "Implemente logs de acesso"
    ]
  },
  
  "test_configuration": {
    "arquivo_teste": "test_connection.py",
    "comando": "python test_connection.py",
    "resposta_esperada": {
      "status": "success",
      "connected": true,
      "files_found": "numero_de_arquivos",
      "message": "Conexão com Google Drive estabelecida com sucesso"
    }
  },
  
  "troubleshooting": {
    "erro_403": {
      "problema": "Forbidden - Service account sem permissão",
      "solucao": "Compartilhar pasta Google Drive com email do service account"
    },
    "erro_404": {
      "problema": "Pasta ou arquivo não encontrado",
      "solucao": "Verificar estrutura: BASE DE DADOS/BASE B2B/cnpj.db"
    },
    "erro_invalid_grant": {
      "problema": "Credenciais inválidas ou expiradas",
      "solucao": "Regenerar chaves do service account"
    },
    "erro_quota_exceeded": {
      "problema": "Limite de API excedido",
      "solucao": "Aguardar reset ou aumentar quota no Google Cloud Console"
    }
  },
  
  "exemplo_uso": {
    "carregar_credenciais": {
      "python": "from google.oauth2 import service_account\nCredentials = service_account.Credentials.from_service_account_file('credentials.json', scopes=['https://www.googleapis.com/auth/drive.readonly'])"
    },
    "testar_conexao": {
      "python": "from google_drive_connector import GoogleDriveCNPJConnector\nconnector = GoogleDriveCNPJConnector()\nstatus = connector.test_connection()\nprint(status)"
    }
  }
}
